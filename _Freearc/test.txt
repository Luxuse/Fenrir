awdadwjhaiodhwbaioudbaiuwdiouay

It's frustrating when things don't work as expected, especially with custom configurations! You're still seeing the "file not found" error despite the changes to the .ini file. Let's dig into this new log.

Here's what I'm seeing:

    Compression niveau 1 : %arcdatafile% -> %arcpackedfile%: This line now shows the correct argument order for input and output, as we discussed (%arcdatafile% is the input, %arcpackedfile% is the output). This is a good sign, meaning FreeArc is passing the parameters as expected.
    ERROR: general (de)compression error in berserk: This still tells us that the berserk compressor itself is failing.
    Compressing 203,509,088 bytes with berserk.exe c -1 "%arcdatafile%" "%arcpackedfile%": This confirms the packcmd is now correctly set up.
    Errorlevel=1: This is the key. When an external program like berserk.exe exits with an Errorlevel other than 0, it means it encountered an error or a problem during its execution. Errorlevel=1 is a generic "failure" code.
    Erreur de compression: Le fichier spécifié est introuvable. (os error 2): FreeArc is still reporting that the file specified was not found. This error now happens because berserk.exe failed (returned Errorlevel=1) and likely didn't produce the expected output file (%arcpackedfile%). FreeArc then looks for this file, can't find it, and throws the error.

What's Happening Now

The problem is no longer with the order of the packcmd arguments. The problem is now directly with berserk.exe itself. It's being called correctly, but it's failing internally.

There are a few reasons why berserk.exe might return an Errorlevel=1:

    Missing Dependencies: berserk.exe might rely on other .dll files or components that are not present in the same directory as berserk.exe or in your system's PATH.
    Incorrect Path to berserk.exe: Even if berserk.exe is in the same directory as arc.exe, sometimes the full path is needed, especially if you're running FreeArc from a different location.
    Corrupted berserk.exe: The berserk.exe file itself could be corrupted.
    Specific Data Issues: While less likely to give Errorlevel=1 without other messages, berserk.exe might be unable to handle the specific type or size of data it's receiving, or it might have a bug.
    Permissions: berserk.exe might not have the necessary write permissions to create the temporary %arcpackedfile% in the temporary directory.
    System Limitations: Though less common, old versions of compressors might hit limits on file size, memory, or CPU usage on modern systems.

How to Troubleshoot berserk.exe

Let's directly test berserk.exe to see if it works independently of FreeArc.

    Locate berserk.exe: Find the berserk.exe file on your system. Note its full path (e.g., C:\FreeArc\berserk.exe).

    Create a Test File:
        Create a small text file (e.g., test.txt) with some random content (e.g., "This is a test file for compression."). Make it at least a few kilobytes if possible.
        Save it in a simple location, like D:\test\test.txt.

    Open Command Prompt:
        Press Win + R, type cmd, and press Enter.
        Navigate to the directory where berserk.exe is located using the cd command (e.g., cd C:\FreeArc).

    Run berserk.exe Manually:
        Try to compress test.txt to test.arc using the same command line FreeArc uses. Make sure to use the correct full paths to your test files if berserk.exe isn't in the same directory as them.
        Based on your packcmd, the command should be:
        Bash

        berserk.exe c -1 "D:\test\test.txt" "D:\test\test.arc"

        (Replace D:\test with your actual test file path if different).

    Observe the Output:
        Does berserk.exe produce any error messages in the command prompt?
        Does it create D:\test\test.arc?
        What is the Errorlevel? After running the command, type echo %errorlevel% and press Enter. This will show you the exit code. If it's 1, then we know berserk.exe is failing even on its own.

Based on Your Test:

    If berserk.exe fails in the manual test (returns Errorlevel=1 or shows error messages):
        This confirms berserk.exe is the problem.
        Check for dependencies: Look for any .dll files that might have come with berserk.exe and ensure they are in the same directory.
        Try a different berserk.exe version: If you downloaded it, try re-downloading it, or look for a more stable/newer version (if available).
        Consider its age/compatibility: berserk.exe might be too old or designed for a different system environment.

    If berserk.exe works in the manual test (returns Errorlevel=0 and creates test.arc):
        This is less likely given the current logs, but if it works, then the issue is subtle interaction between FreeArc and berserk.
        Paths with spaces: Ensure all paths (FreeArc's temporary ones and your destination path) don't contain spaces that cause issues, although quotes usually fix this.
        Temp directory issues: Ensure your system's temporary directory (%TEMP%) has enough space and that FreeArc has write permissions to it.

Let's test berserk.exe directly first. What happens when you run that command line test?

[External compressor:berserk]

header = 0

packcmd = berserk.exe c -1 "%arcdatafile%" "%arcpackedfile%"

unpackcmd = berserk.exe d "%arcpackedfile%" "%arcdatafile%"

You've got the packcmd and unpackcmd correctly configured now in your arc.ini for berserk! That's a big step.

However, based on your previous logs, even with the correct .ini settings, berserk.exe is still failing internally (returning Errorlevel=1) and FreeArc is then reporting the "file not found" error because berserk isn't producing the output it should.

The problem isn't with how FreeArc is calling berserk.exe anymore; the problem is with berserk.exe itself.
What to Do Next

To diagnose why berserk.exe is failing, you need to test it directly outside of FreeArc.

    Find berserk.exe: Locate the berserk.exe file on your computer. Make sure you know its full path (e.g., C:\FreeArc\berserk.exe).

    Create a small test file:
        Create a simple text file, perhaps test.txt, with some content inside it (e.g., "Hello, this is a test."). Save it to a convenient location, like D:\test\test.txt.

    Open Command Prompt:
        Press Windows Key + R, type cmd, and hit Enter.
        Navigate to the directory where your berserk.exe is located using the cd command. For example, if it's in C:\FreeArc, you'd type cd C:\FreeArc and press Enter.

    Run berserk.exe manually:
        Use the exact same command structure that FreeArc is using. You'll need to use the full paths to your test input and output files.
        Type the following command and press Enter:
    Bash

    berserk.exe c -1 "D:\test\test.txt" "D:\test\test.arc"

    (Adjust D:\test\ if you saved your test file elsewhere).

    Check the result:
        Look for any error messages in the command prompt window.
        After the command finishes, type echo %errorlevel% and press Enter. This will show you the exit code.
        If errorlevel is 0: It means berserk.exe ran successfully. Check if D:\test\test.arc was created. If it did, then the issue might be related to the scale of the files FreeArc is handling, or something specific about its temporary file paths.
        If errorlevel is 1 (or any other non-zero number): This confirms that berserk.exe is failing on its own. This is the most likely scenario given your previous logs.

If berserk.exe Fails Manually

If berserk.exe still fails when you run it by hand, here are common reasons and solutions:

    Missing DLLs or dependencies: berserk.exe might need other files (like .dll libraries) to run. Look in the original download or distribution of berserk for any other files that came with it and place them in the same folder as berserk.exe.
    Corrupted file: The berserk.exe file itself might be damaged. Try re-downloading it from a reliable source.
    Compatibility: Given FreeArc 0.67 is from 2014, and berserk is an external compressor, it's possible berserk.exe is very old and incompatible with your current Windows version or system architecture.
    Path issues: Ensure the full path to berserk.exe doesn't have unusual characters or spaces that are causing problems, even if quoted.

Let me know what happens when you try to run berserk.exe directly on a test file. That will tell us exactly why it's failing!